function onSaveSuccess(){onAjaxSuccess();initializePage()}function onAddSuccess(){clean_modal();initializePage()}function onDeleteSuccess(n){onAjaxSuccess();$("#"+n).remove()}function initializePage(){initializeDataTable($("#dataTables-table"));initializeDataTablesEditor("#dataTables-table");$(".pagination > li").on("click",function(){initializeSwitch()});initializeSwitch();$("#form2").formValidation({framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{Nombre:{validators:{notEmpty:{message:"Por favor escriba el nombre"}}}}});$("#HideTour").on("click",function(){onCookieSuccess()});var n=new Tour({steps:[{element:".page-heading",title:"Barra de Navegación",content:"Muestra la ubicación de la página actual.",placement:"bottom",backdrop:!0,backdropContainer:"#wrapper",onShown:function(){$("body").addClass("tour-open")},onHidden:function(){$("body").removeClass("tour-close")}},{element:"#btnAddGrupo",title:"Añadir Grupo",content:"Permite crear un grupo, dentro del cual usted puede crear los anuncios y temporizadores.",placement:"right",backdrop:!0,backdropContainer:"#wrapper",onShown:function(){$("body").addClass("tour-open")},onHidden:function(){$("body").removeClass("tour-close")}},{element:"#btnDetails",title:"Detalles de Grupo",content:"Puede acceder a los detalles del grupo para añadir nuevos anuncios y configurar los temorizadores",placement:"right",backdrop:!0,backdropContainer:"#wrapper",onShown:function(){$("body").addClass("tour-open")},onHidden:function(){$("body").removeClass("tour-close")}},{element:"#btnEliminar",title:"Eliminar Grupo",content:"Elimina el grupo seleccionado.",placement:"left",backdrop:!0,backdropContainer:"#wrapper",onShown:function(){$("body").addClass("tour-open")},onHidden:function(){$("body").removeClass("tour-close")}}]});n.init();$(".startTour").click(function(){n.restart()})}function initializeSwitch(){$(".switch").off("click").on("click",function(n){var u=$(this).find("input.onoffswitch-checkbox"),t,i,r;n.preventDefault();t=prepareForm(u);i=$(this).closest("tr").attr("id");EditRowId=i;t&&($("#ToogleId").val(i),r=$("input.onoffswitch-checkbox").attr("checked"),r===undefined?showTemporizadoresConfirmationPopup(t,"encender","\nAcorde a su configuración sus anuncios comenzarán a actualizarse."):showTemporizadoresConfirmationPopup(t,"apagar","\nSus anuncios dejarán de actualizarse!!"))})}function onCookieSuccess(){swal({title:"¿Está seguro?",text:"Por favor confirme que usted desea ocultar el tutorial.",type:"warning",confirmButtonColor:"#DD6B55",showCancelButton:!0},function(){$("#TourDiv").css("display","none");document.cookie="TourGrupo=yes";onAjaxSuccess()})}function showTemporizadoresConfirmationPopup(n,t,i){swal({title:"¿Está seguro?",text:"Por favor confirme que usted desea "+t+" el grupo. "+i,type:"warning",confirmButtonColor:"#DD6B55",showCancelButton:!0},function(){n.submit()})}function onToogleSuccess(){initializePage();onAjaxSuccess()}$(document).ready(initializePage);