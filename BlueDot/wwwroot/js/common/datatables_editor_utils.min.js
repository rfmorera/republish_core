function initializeDataTablesEditor(n){var t=$(n),i;if(t.length>0&&(i=t.attr("data-edit-url"),rowIdPropertyName=t.attr("data-row-id-property-name"),t&&rowIdPropertyName)){editor=new $.fn.dataTable.Editor({ajax:{url:i,type:"POST",success:function(t){if(editor.close(),t.hasOwnProperty(rowIdPropertyName)){var i=$("tr[id='"+t[rowIdPropertyName]+"']"),r=$(n).DataTable();i.children("td").each(function(){var n=$(this).attr("data-column-name"),i;n&&t.hasOwnProperty(n)&&($(this).text(t[n]),i=r.cell($(this)),i.data(t[n]))})}},error:handleEditorError},table:n});t.find("thead > tr > th").each(setupEditorForColumnIfNeeded);t.on("click","tbody td:not(:first-child)",onCellClicked);editor.on("preSubmit",preSubmit)}}function handleEditorError(n){var r,u,i,t,f;if(editor.close(),n.status===400&&n.hasOwnProperty("responseJSON")){for(r=Object.keys(n.responseJSON),i=0;i<r.length;++i)if(t=r[i],f=$("th[data-column-name='"+t+"']"),f.length>0&&n.responseJSON[t]instanceof Array&&n.responseJSON[t].length>0){u=n.responseJSON[t][0];break}u?swal({title:"Error",text:u,type:"error",confirmButtonColor:"#DD6B55",showCancelButton:!1}):displayToastrError()}else displayToastrError()}function setupEditorForColumnIfNeeded(){var t=$(this).attr("data-column-name"),n;t&&(n=getColumnName($(this)),editor.add({attr:{"class":"form-control",style:"width: 100%;"},name:n}))}function onCellClicked(){editor.inline(this,{onBlur:function(){editor.submit();editor.close()},submit:"allIfChanged",onComplete:"none"})}function preSubmit(n,t,i){var u,r;if(i==="edit"){for(r in t.data){u=r;break}t.Action=t.action;t[rowIdPropertyName]=u;for(r in t.data[u])t[r]=t.data[u][r];delete t.action;delete t.data}}var editor,rowIdPropertyName;